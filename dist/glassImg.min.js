(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.GlassImg = factory());
}(this, (function () { 'use strict';

    var GlassImg = /** @class */ (function () {
        function GlassImg(opts) {
            this.init(opts);
        }
        // 初始化方法
        GlassImg.prototype.init = function (opts) {
            var boxEle = document.getElementById(opts.id);
            var handEle = document.createElement('div');
            boxEle.style.width = opts.width + 'px';
            boxEle.style.height = opts.height + 'px';
            boxEle.style.position = 'relative';
            boxEle.style.backgroundImage = "url(" + opts.img + ")";
            boxEle.style.backgroundSize = "cover";
            handEle.style.width = 200 + 'px';
            handEle.style.height = 200 + 'px';
            handEle.style.position = 'absolute';
            handEle.style.background = 'blue';
            handEle.style.opacity = '0.4';
            boxEle.appendChild(handEle);
            this.boxEle = boxEle;
            this.handEle = handEle;
            this.addEvent();
        };
        GlassImg.prototype.addEvent = function () {
            var _this = this;
            this.boxEle.onmouseover = function () {
                _this.over();
            };
            this.boxEle.onmouseleave = function () {
                _this.leave();
            };
            this.boxEle.onmousemove = function (event) {
                var e = event || window.event;
                _this.move(e);
            };
        };
        GlassImg.prototype.over = function () {
            this.handEle.style.display = 'block';
        };
        GlassImg.prototype.leave = function () {
            // this.handEle.style.display = 'none';
        };
        GlassImg.prototype.move = function (e) {
            console.log(e);
            var l = e.offsetX - this.handEle.offsetWidth / 2;
            var t = e.offsetY - this.handEle.offsetHeight / 2;
            if (l < 0)
                l = 0;
            if (t < 0)
                t = 0;
            if (l > this.boxEle.offsetWidth - this.handEle.offsetWidth) {
                l = this.boxEle.offsetWidth - this.handEle.offsetWidth;
            }
            if (t > this.boxEle.offsetHeight - this.handEle.offsetHeight) {
                t = this.boxEle.offsetHeight - this.handEle.offsetHeight;
            }
            this.handEle.style.left = l + 'px';
            this.handEle.style.top = t + 'px';
        };
        return GlassImg;
    }());

    return GlassImg;

})));
//# sourceMappingURL=glassImg.min.js.map
